{
    "datadefID": "customer",
    "table": "er_customer",
    "name": "Customer",
    "objectclass": "data_accessclass",
    "requiredfile": "masterdata\/class_data_accessclass.php",
    "headtitle":"Customer",
    "headdescription":"the customer example allows you to insert address and contact data",
    "head_end":[
      "<script src=\"{{root}}kitsamples/customer/customer_head_end.js\"></script>"
    ],
    "rightcheck": 1,
    "key": "accountID",
    "datalistcolumn":"partnerdisp",
    "displaycolumn":"accountnumber",
    "searchcolumn1":"accountnumber",
    "searchcolumn2":"name1",
    "settingsadditional":["k8groups","k8searchuser"],
    "optionsadditional":[
      {
        "datadefID":"k8groups",
        "column_mapping":{"value":"groupID","text":"title"},
        "fieldname":"categoryID",
        "tabulatorcolumn":"categoryID",
        "emptytext":"please select",
        "defaultclause":"type='customer_group'"
      }
    ],
    "columns": [
        {
            "Field": "accountID",
            "Type": "int(10)",
            "Null": "NO",
            "Key": "PRI",
            "Default": null,
            "Extra": "auto_increment",
            "mytype": "INT",
            "size": 10,
            "fieldname": "accountID",
            "myextra": "auto_increment"
        },
        {
            "Field": "clientID",
            "Type": "int(10)",
            "Null": "NO",
            "Key": "",
            "Default": null,
            "Extra": "",
            "mytype": "INT",
            "size": 10,
            "fieldname": "clientID",
            "myextra": ""
        },
        {
            "Field": "accountnumber",
            "Type": "varchar(50)",
            "Null": "NO",
            "Key": "",
            "Default": null,
            "Extra": "",
            "mytype": "VARCHAR",
            "size": 50,
            "fieldname": "accountnumber",
            "myextra": ""
        },
        {
            "Field": "name1",
            "Type": "varchar(50)",
            "Null": "YES",
            "Key": "",
            "Default": null,
            "Extra": "",
            "mytype": "VARCHAR",
            "size": 50,
            "fieldname": "name1",
            "myextra": ""
        },
        {
            "Field": "name2",
            "Type": "varchar(50)",
            "Null": "YES",
            "Key": "",
            "Default": null,
            "Extra": "",
            "mytype": "VARCHAR",
            "size": 50,
            "fieldname": "name2",
            "myextra": ""
        },
        {
            "Field": "street",
            "Type": "varchar(50)",
            "Null": "YES",
            "Key": "",
            "Default": null,
            "Extra": "",
            "mytype": "VARCHAR",
            "size": 50,
            "fieldname": "street",
            "myextra": ""
        },
        {
            "Field": "country",
            "Type": "varchar(10)",
            "Null": "YES",
            "Key": "",
            "Default": null,
            "Extra": "",
            "mytype": "VARCHAR",
            "size": 10,
            "fieldname": "country",
            "myextra": ""
        },
        {
            "Field": "code",
            "Type": "varchar(10)",
            "Null": "YES",
            "Key": "",
            "Default": null,
            "Extra": "",
            "mytype": "VARCHAR",
            "size": 10,
            "fieldname": "code",
            "myextra": ""
        },
        {
            "Field": "city",
            "Type": "varchar(50)",
            "Null": "YES",
            "Key": "",
            "Default": null,
            "Extra": "",
            "mytype": "VARCHAR",
            "size": 50,
            "fieldname": "city",
            "myextra": ""
        },
        {
            "Field": "phone",
            "Type": "varchar(50)",
            "Null": "YES",
            "Key": "",
            "Default": null,
            "Extra": "",
            "mytype": "VARCHAR",
            "size": 50,
            "fieldname": "phone",
            "myextra": ""
        },
        {
            "Field": "mobile",
            "Type": "varchar(50)",
            "Null": "YES",
            "Key": "",
            "Default": null,
            "Extra": "",
            "mytype": "VARCHAR",
            "size": 50,
            "fieldname": "mobile",
            "myextra": ""
        },
        {
            "Field": "email",
            "Type": "varchar(250)",
            "Null": "YES",
            "Key": "",
            "Default": null,
            "Extra": "",
            "mytype": "VARCHAR",
            "size": 250,
            "fieldname": "email",
            "myextra": ""
        },
        {
            "Field": "website",
            "Type": "varchar(100)",
            "Null": "YES",
            "Key": "",
            "Default": null,
            "Extra": "",
            "mytype": "VARCHAR",
            "size": 100,
            "fieldname": "website",
            "myextra": ""
        },
        {
            "Field": "fax",
            "Type": "varchar(50)",
            "Null": "YES",
            "Key": "",
            "Default": null,
            "Extra": "",
            "mytype": "VARCHAR",
            "size": 50,
            "fieldname": "fax",
            "myextra": ""
        },
        {
            "Field": "facebook",
            "Type": "varchar(100)",
            "Null": "YES",
            "Key": "",
            "Default": null,
            "Extra": "",
            "mytype": "VARCHAR",
            "size": 100,
            "fieldname": "facebook",
            "myextra": ""
        },
        {
            "Field": "memo",
            "Type": "text",
            "Null": "YES",
            "Key": "",
            "Default": null,
            "Extra": "",
            "mytype": "TEXT",
            "size": 0,
            "fieldname": "memo",
            "myextra": ""
        },
        {
            "Field": "categoryID",
            "Type": "int(10)",
            "Null": "YES",
            "Key": "",
            "Default": null,
            "Extra": "",
            "mytype": "INT",
            "size": 10,
            "fieldname": "categoryID",
            "myextra": ""
        },
        {
            "Field": "representativeID",
            "Type": "int(10)",
            "Null": "YES",
            "Key": "",
            "Default": null,
            "Extra": "",
            "mytype": "INT",
            "size": 10,
            "fieldname": "representativeID",
            "myextra": ""
        },
        {
            "Field": "datetimecreated",
            "Type": "datetime",
            "Null": "NO",
            "Key": "",
            "Default": null,
            "Extra": "",
            "mytype": "DATETIME",
            "size": 0,
            "fieldname": "datetimecreated",
            "myextra": ""
        },
        {
            "Field": "creatorID",
            "Type": "int(10)",
            "Null": "NO",
            "Key": "",
            "Default": null,
            "Extra": "",
            "mytype": "INT",
            "size": 10,
            "fieldname": "creatorID",
            "myextra": ""
        }
    ],
    "masterdata": {
        "edittype":9,
        "url_new": "index.php?page=form&datadefID=customer&process_action=New&page_mode=2",
        "url_edit": "index.php?page=form&datadefID=customer&process_action=Edit&page_mode=2",
        "url_master": "index.php?page=masterdata&datadefID=customer",
        "url_detail": "index.php?page=detail&datadefID=customer",
        "url_load": "masterdata\/ProcessData.php?datadefID=customer&process_action=Load",
        "url_save": "masterdata\/ProcessData.php?datadefID=customer&process_action=Save",
        "url_del": "masterdata\/ProcessData.php?datadefID=customer&process_action=Del",
        "url_readfilter": "masterdata\/ProcessData.php",
        "data_readfilter": {
            "datadefID": "customer",
            "process_action": "ReadFilter"
        },
        "menuleftobj":{
          "button":{
            "text":"",
            "carettype":0
          },
          "items":[
            {"value":"remove","label":"Remove","inlist":false,"inform":false},
            {"value":"edit","label":"Edit","inlist":false,"inform":false},
            {"value":"insert","label":"Insert from clipboard","atlink":false},
            {"value":"businesscard","label":"#ls#Business card#","atlink":false}
          ]
        },
        "include":{
          "getEntries":"kitsamples/customer/customer_getEntries.php",
          "validate":"kitsamples/customer/customer_validate.php"
        },
        "sql_derived":"SELECT er_customer.*,CONCAT_WS(' ',er_customer.accountnumber,er_customer.name1,er_customer.name2,er_customer.city,er_customer.phone,er_customer.email) as search, concat(er_customer.accountnumber,' ',er_customer.name1,' ',er_customer.city) as partnerdisp,k8login.username as representativename,k8groups.title as category, '' as k8select FROM er_customer LEFT OUTER JOIN k8login ON representativeID=k8login.userID LEFT OUTER JOIN k8groups ON er_customer.categoryID=k8groups.groupID WHERE 1=1",
        "sql_orderby":"name1,city"
    },
    "tabulator": {
        "columns": [
            {
                "title": "accountID",
                "field": "accountID",
                "headerFilter": true,
                "hozAlign": "right",
                "width": "80",
                "visible": false
            },
            {
                "title": "accountnumber",
                "field": "accountnumber",
                "headerFilter": true,
                "width": "80"
            },
            {
                "title": "name1",
                "field": "name1",
                "headerFilter": true
            },
            {
                "title": "name2",
                "field": "name2",
                "visible": false,
                "headerFilter": true
            },
            {
                "title": "street",
                "field": "street",
                "headerFilter": true
            },
            {
                "title": "country",
                "field": "country",
                "width":80,
                "headerFilter":"list","headerFilterFunc":"=","headerFilterParams":{"values":["","DE","FR","GB"],"clearable":true}
            },
            {
                "title": "code",
                "field": "code",
                "width":80,
                "headerFilter": true
            },
            {
                "title": "city",
                "field": "city",
                "headerFilter": true
            },

            {
                "title": "phone",
                "field": "phone",
                "headerFilter": true
            },
            {
                "title": "mobile",
                "field": "mobile",
                "headerFilter": true,
                "visible": false
            },
            {
                "title": "email",
                "field": "email",
                "headerFilter": true,
                "visible": false
            },
            {
                "title": "website",
                "field": "website",
                "headerFilter": true,
                "visible": false
            },
            {
                "title": "fax",
                "field": "fax",
                "headerFilter": true,
                "visible": false
            },
            {
                "title": "facebook",
                "field": "facebook",
                "headerFilter": true,
                "visible": false
            },
            {
                "title": "memo",
                "field": "memo",
                "headerFilter": true,
                "visible": false
            },
            {
                "title": "categoryID",
                "field": "categoryID",
                "headerFilter": true,
                "width": "120",
                "headerFilter": "list",
                "formatter":"#function#k8tabulatorformatter#", 
                "formatterParams":{"type":"color"},
                "visible": false
            },
            {
                "title": "category",
                "field": "category",
                "headerFilter": true,
                "width": "100",
                "visible": false
            },
            {
                "title": "representativeID",
                "field": "representativeID",
                "headerFilter": true,
                "hozAlign": "right",
                "width": "80",
                "visible": false
            },
            {
                "title": "representative",
                "field": "representativename",
                "headerFilter": true,
                "width": "100",
                "visible": false
            },
            {
                "title": "datetimecreated",
                "field": "datetimecreated",
                "headerFilter": "input",
                "width": 160,
                "formatter": "datetime",
                "formatterParams": {
                    "inputFormat": "yyyy-MM-dd HH:mm:ss",
                    "outputFormat": "GLOBALS_tabulatordatetimeformat"
                },
                "visible": false
            },
            {
                "title": "creatorID",
                "field": "creatorID",
                "headerFilter": true,
                "hozAlign": "right",
                "width": "80",
                "visible": false
            }
        ]
    },
    "k8form": {
        "selector": ".js_dataform",
        "templatetype": "masterform",
        "fields": [
            {
                "name": "accountID",
                "type": "hidden",
                "label": "accountID"
            },
            {
                "name": "accountnumber",
                "type": "text",
                "label": "accountnumber",
                "disabled":true,
                "maxLength": 50
            },
            {
                "name": "name1",
                "type": "text",
                "label": "name1",
                "required":true,
                "maxLength": 50
            },
            {
                "name": "name2",
                "type": "text",
                "label": "name2",
                "maxLength": 50
            },
            {
                "name": "street",
                "type": "text",
                "label": "street",
                "maxLength": 50
            },
            {
                "name": "country",
                "tagName": "select",
                "label": "country",
                "options": ["","DE","IT","FR"]
            },
            {
              "inputgroup":
              {
                "label": "code / city",
                "fields":[
                {
                    "name": "code",
                    "fieldclass":"form-control k8-flex-100-fix",
                    "type": "text",
                    "label": "code",
                    "maxLength": 10
                },
                {
                    "name": "city",
                    "type": "text",
                    "label": "city",
                    "fieldclass":"form-control k8-flex-100",
                    "maxLength": 50
                  }
                ]
              }
            },
            {
                "name": "phone",
                "type": "text",
                "label": "phone",
                "maxLength": 50
            },
            {
                "name": "mobile",
                "type": "text",
                "label": "mobile",
                "maxLength": 50
            },
            {
                "name": "email",
                "type": "email",
                "label": "email",
                "maxLength": 250
            },
            {
                "name": "website",
                "type": "text",
                "label": "website",
                "maxLength": 100
            },
            {
                "name": "categoryID",
                "tagName": "select",
                "label": "categoryID"
            },
            {
                "name": "representativeID",
                "type": "hidden",
                "label": "representativeID"
            },
            {
              "name": "representativename",
              "type": "text",
              "label": "representative",
              "attributes":{
                "list": "representativename_datalist",
                "autocomplete": "OFF"
              },
              "datalist":{
                "datadefID":"k8searchuser",
                "IDfield":"representativeID",
                "onlyoptions":true
              }
            }
        ]
    }
}